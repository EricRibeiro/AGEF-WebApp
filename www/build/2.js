webpackJsonp([2],{309:function(n,e,l){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](2,0,null,null,1,"p",[["margin",""]],null,null,null,null,null)),(n()(),a["ɵted"](3,null,[""," — "," vendas"])),(n()(),a["ɵted"](-1,null,["\n        "]))],null,function(n,e){var l=e.component;n(e,3,0,l.filtro,l.qtdTotalVendas)})}function i(n){return a["ɵvid"](0,[(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](1,0,null,null,1,"p",[["margin",""]],null,null,null,null,null)),(n()(),a["ɵted"](2,null,[""," — "," venda"])),(n()(),a["ɵted"](-1,null,["\n        "]))],null,function(n,e){var l=e.component;n(e,2,0,l.filtro,l.qtdTotalVendas)})}function u(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),a["ɵted"](1,null,["\n                ","\n            "]))],null,function(n,e){n(e,1,0,e.component.mostrarLoading(!1))})}function r(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,73,"ion-item-sliding",[],null,null,null,E.b,E.a)),a["ɵdid"](1,49152,null,2,D.a,[[2,P.a],T.a,a.Renderer,a.ElementRef,a.NgZone],null,null),a["ɵqud"](335544320,4,{item:0}),a["ɵqud"](603979776,5,{_itemOptions:1}),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](5,0,null,0,53,"ion-item",[["class","item item-block"]],null,null,null,I.b,I.a)),a["ɵdid"](6,1097728,[[4,4]],3,A.a,[N.a,S.a,a.ElementRef,a.Renderer,[2,q.a]],null,null),a["ɵqud"](335544320,6,{contentLabel:0}),a["ɵqud"](603979776,7,{_buttons:1}),a["ɵqud"](603979776,8,{_icons:1}),a["ɵdid"](10,16384,null,0,F.a,[],null,null),(n()(),a["ɵted"](-1,2,["\n                "])),(n()(),a["ɵeld"](12,0,null,2,45,"ion-grid",[["class","grid"],["text-center",""]],null,null,null,null,null)),a["ɵdid"](13,16384,null,0,M.a,[],null,null),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵeld"](15,0,null,null,41,"ion-row",[["align-items-center",""],["class","row"]],null,null,null,null,null)),a["ɵdid"](16,16384,null,0,U.a,[],null,null),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](18,0,null,null,9,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](19,16384,null,0,O.a,[],null,null),(n()(),a["ɵted"](-1,null,["\n                            "])),(n()(),a["ɵeld"](21,0,null,null,5,"button",[["class","circle-button"],["color","primary"],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickEstornarVenda(n.context.$implicit)&&t}return t},j.b,j.a)),a["ɵdid"](22,1097728,null,0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{color:[0,"color"]},null),(n()(),a["ɵted"](-1,0,["\n                                "])),(n()(),a["ɵeld"](24,0,null,0,1,"ion-icon",[["name","remove"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](25,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,0,["\n                            "])),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵted"](-1,null,["\n\n                        "])),(n()(),a["ɵeld"](29,0,null,null,15,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](30,16384,null,0,O.a,[],null,null),(n()(),a["ɵted"](-1,null,["\n                            "])),(n()(),a["ɵeld"](32,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),a["ɵted"](33,null,["",""])),(n()(),a["ɵted"](-1,null,["\n                            "])),(n()(),a["ɵeld"](35,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),a["ɵted"](36,null,["R$",""])),(n()(),a["ɵted"](-1,null,["\n                            "])),(n()(),a["ɵeld"](38,0,null,null,5,"p",[["color","primary"],["ion-text",""]],null,null,null,null,null)),a["ɵdid"](39,16384,null,0,L.a,[S.a,a.ElementRef,a.Renderer],{color:[0,"color"]},null),(n()(),a["ɵted"](-1,null,["\n                                "])),(n()(),a["ɵeld"](41,0,null,null,1,"ion-icon",[["name","basket"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](42,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](43,null,["\n                                ","\n                            "])),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵted"](-1,null,["\n\n                        "])),(n()(),a["ɵeld"](46,0,null,null,9,"ion-col",[["class","col"]],null,null,null,null,null)),a["ɵdid"](47,16384,null,0,O.a,[],null,null),(n()(),a["ɵted"](-1,null,["\n                            "])),(n()(),a["ɵeld"](49,0,null,null,5,"button",[["class","circle-button"],["color","primary"],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickCadastrarUmaVenda(n.context.$implicit)&&t}return t},j.b,j.a)),a["ɵdid"](50,1097728,null,0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{color:[0,"color"]},null),(n()(),a["ɵted"](-1,0,["\n                                "])),(n()(),a["ɵeld"](52,0,null,0,1,"ion-icon",[["name","add"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](53,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,0,["\n                            "])),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵted"](-1,null,["\n                "])),(n()(),a["ɵted"](-1,2,["\n\n            "])),(n()(),a["ɵted"](-1,null,["\n\n            "])),(n()(),a["ɵeld"](60,0,null,1,9,"ion-item-options",[["side","right"]],null,null,null,null,null)),a["ɵdid"](61,16384,[[5,4]],0,$.a,[a.ElementRef,T.a],{side:[0,"side"]},null),(n()(),a["ɵted"](-1,null,["\n                "])),(n()(),a["ɵeld"](63,0,null,null,5,"button",[["color","primary"],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickAbrirModalDetalhesVenda(n.context.$implicit)&&t}return t},j.b,j.a)),a["ɵdid"](64,1097728,null,0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{color:[0,"color"]},null),(n()(),a["ɵted"](-1,0,["\n                    "])),(n()(),a["ɵeld"](66,0,null,0,1,"ion-icon",[["name","search"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](67,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,0,["\n                    Detalhes\n                "])),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵted"](-1,null,["\n\n            "])),(n()(),a["ɵand"](16777216,null,null,1,null,u)),a["ɵdid"](72,16384,null,0,f.j,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](-1,null,["\n        "]))],function(n,e){n(e,22,0,"primary");n(e,25,0,"remove");n(e,39,0,"primary");n(e,42,0,"basket");n(e,50,0,"primary");n(e,53,0,"add");n(e,61,0,"right");n(e,64,0,"primary");n(e,67,0,"search");n(e,72,0,e.context.last)},function(n,e){var l=e.component;n(e,24,0,a["ɵnov"](e,25)._hidden);n(e,33,0,l.recuperarNomePeca(e.context.$implicit));n(e,36,0,l.calcValorTotalVendasPorPeca(e.context.$implicit));n(e,41,0,a["ɵnov"](e,42)._hidden);n(e,43,0,l.recuperarQtdVendas(e.context.$implicit));n(e,52,0,a["ɵnov"](e,53)._hidden);n(e,66,0,a["ɵnov"](e,67)._hidden)})}function o(n){return a["ɵvid"](0,[a["ɵqud"](402653184,1,{selectRef:0}),(n()(),a["ɵeld"](1,0,null,null,59,"ion-header",[],null,null,null,null,null)),a["ɵdid"](2,16384,null,0,z.a,[S.a,a.ElementRef,a.Renderer,[2,K.a]],null,null),(n()(),a["ɵted"](-1,null,["\n    "])),(n()(),a["ɵeld"](4,0,null,null,55,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,H.b,H.a)),a["ɵdid"](5,49152,null,0,Q.a,[Z.a,[2,K.a],[2,J.a],S.a,a.ElementRef,a.Renderer],null,null),(n()(),a["ɵted"](-1,3,["\n        "])),(n()(),a["ɵand"](16777216,null,3,1,null,t)),a["ɵdid"](8,16384,null,0,f.j,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),a["ɵted"](-1,3,["\n\n        "])),(n()(),a["ɵand"](0,[["showTextSingular",2]],3,0,null,i)),(n()(),a["ɵted"](-1,3,["\n\n        "])),(n()(),a["ɵeld"](12,0,null,2,46,"ion-buttons",[["end",""]],null,null,null,null,null)),a["ɵdid"](13,16384,null,1,Y.a,[S.a,a.ElementRef,a.Renderer,[2,G.a],[2,Q.a]],null,null),a["ɵqud"](603979776,2,{_buttons:1}),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](16,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickAbrirVendasCompletas()&&t}return t},j.b,j.a)),a["ɵdid"](17,1097728,[[2,4]],0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{clear:[0,"clear"]},null),(n()(),a["ɵted"](-1,0,["\n                "])),(n()(),a["ɵeld"](19,0,null,0,1,"ion-icon",[["name","basket"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](20,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,0,["\n            "])),(n()(),a["ɵted"](-1,null,["\n            "])),(n()(),a["ɵeld"](23,0,null,null,27,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickAbrirOpcoesFiltro()&&t}return t},j.b,j.a)),a["ɵdid"](24,1097728,[[2,4]],0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{clear:[0,"clear"]},null),(n()(),a["ɵted"](-1,0,["\n                "])),(n()(),a["ɵeld"](26,0,null,0,23,"ion-icon",[["name","funnel"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](27,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵeld"](29,0,null,null,19,"ion-select",[["cancelText","Cancelar"],["hidden",""],["okText","Confirmar"]],[[2,"select-disabled",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"click"],[null,"keyup.space"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==a["ɵnov"](n,30)._click(l)&&t}if("keyup.space"===e){t=!1!==a["ɵnov"](n,30)._keyup()&&t}if("ngModelChange"===e){t=!1!==(i.filtro=l)&&t}if("ionChange"===e){t=!1!==i.onChangeRcprVendasComFiltro()&&t}return t},X.b,X.a)),a["ɵdid"](30,1228800,[[1,4],["selectFiltro",4]],1,nn.a,[Z.a,N.a,S.a,a.ElementRef,a.Renderer,[2,A.a],en.a],{cancelText:[0,"cancelText"],okText:[1,"okText"]},{ionChange:"ionChange"}),a["ɵqud"](603979776,3,{options:1}),a["ɵprd"](1024,null,ln.h,function(n){return[n]},[nn.a]),a["ɵdid"](33,671744,null,0,ln.l,[[8,null],[8,null],[8,null],[2,ln.h]],{model:[0,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,ln.i,null,[ln.l]),a["ɵdid"](35,16384,null,0,ln.j,[ln.i],null,null),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](37,0,null,null,2,"ion-option",[],null,null,null,null,null)),a["ɵdid"](38,16384,[[3,4]],0,tn.a,[a.ElementRef],null,null),(n()(),a["ɵted"](-1,null,["Hoje"])),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](41,0,null,null,2,"ion-option",[],null,null,null,null,null)),a["ɵdid"](42,16384,[[3,4]],0,tn.a,[a.ElementRef],null,null),(n()(),a["ɵted"](-1,null,["Mês"])),(n()(),a["ɵted"](-1,null,["\n                        "])),(n()(),a["ɵeld"](45,0,null,null,2,"ion-option",[],null,null,null,null,null)),a["ɵdid"](46,16384,[[3,4]],0,tn.a,[a.ElementRef],null,null),(n()(),a["ɵted"](-1,null,["Total"])),(n()(),a["ɵted"](-1,null,["\n                    "])),(n()(),a["ɵted"](-1,null,["\n                "])),(n()(),a["ɵted"](-1,0,["\n            "])),(n()(),a["ɵted"](-1,null,["\n\n            "])),(n()(),a["ɵeld"](52,0,null,null,5,"button",[["clear",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.onClickAbrirModalCadastroVenda()&&t}return t},j.b,j.a)),a["ɵdid"](53,1097728,[[2,4]],0,B.a,[[8,""],S.a,a.ElementRef,a.Renderer],{clear:[0,"clear"]},null),(n()(),a["ɵted"](-1,0,["\n                "])),(n()(),a["ɵeld"](55,0,null,0,1,"ion-icon",[["name","cart"],["role","img"]],[[2,"hide",null]],null,null,null,null)),a["ɵdid"](56,147456,null,0,W.a,[S.a,a.ElementRef,a.Renderer],{name:[0,"name"]},null),(n()(),a["ɵted"](-1,0,["\n            "])),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵted"](-1,3,["\n\n    "])),(n()(),a["ɵted"](-1,null,["\n"])),(n()(),a["ɵted"](-1,null,["\n\n"])),(n()(),a["ɵeld"](62,0,null,null,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,un.b,un.a)),a["ɵdid"](63,4374528,null,0,rn.a,[S.a,T.a,on.a,a.ElementRef,a.Renderer,Z.a,an.a,a.NgZone,[2,K.a],[2,J.a]],null,null),(n()(),a["ɵted"](-1,1,["\n    "])),(n()(),a["ɵeld"](65,0,null,1,5,"ion-list",[],null,null,null,null,null)),a["ɵdid"](66,16384,null,0,P.a,[S.a,a.ElementRef,a.Renderer,T.a,sn.l,on.a],null,null),(n()(),a["ɵted"](-1,null,["\n        "])),(n()(),a["ɵand"](16777216,null,null,1,null,r)),a["ɵdid"](69,802816,null,0,f.i,[a.ViewContainerRef,a.TemplateRef,a.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),a["ɵted"](-1,null,["\n\n    "])),(n()(),a["ɵted"](-1,1,["\n"]))],function(n,e){var l=e.component;n(e,8,0,l.qtdTotalVendas>1||0==l.qtdTotalVendas,a["ɵnov"](e,10));n(e,17,0,"");n(e,20,0,"basket");n(e,24,0,"");n(e,27,0,"funnel");n(e,30,0,"Cancelar","Confirmar");n(e,33,0,l.filtro);n(e,53,0,"");n(e,56,0,"cart");n(e,69,0,l.pecas)},function(n,e){n(e,4,0,a["ɵnov"](e,5)._hidden,a["ɵnov"](e,5)._sbPadding);n(e,19,0,a["ɵnov"](e,20)._hidden);n(e,26,0,a["ɵnov"](e,27)._hidden);n(e,29,0,a["ɵnov"](e,30)._disabled,a["ɵnov"](e,35).ngClassUntouched,a["ɵnov"](e,35).ngClassTouched,a["ɵnov"](e,35).ngClassPristine,a["ɵnov"](e,35).ngClassDirty,a["ɵnov"](e,35).ngClassValid,a["ɵnov"](e,35).ngClassInvalid,a["ɵnov"](e,35).ngClassPending);n(e,55,0,a["ɵnov"](e,56)._hidden);n(e,62,0,a["ɵnov"](e,63).statusbarPadding,a["ɵnov"](e,63)._hasRefresher)})}Object.defineProperty(e,"__esModule",{value:!0});var a=l(0),s=(l(3),l(48),l(220)),d=l(131),c=l(130),h=l(329),f=l(10),p=l(132),m=l(312),v=(l(151),function(){function n(n,e,l,t,i,u,r,o,a,s,d){this.datePipe=n,this.dialogo=e,this.events=l,this.loadingProvider=t,this.modalCtrl=i,this.navCtrl=u,this.navParams=r,this.pecaFeiraService=o,this.utilsService=a,this.vendaService=s,this.socket=d,this.filtro="Hoje",this.loadingEstaPresente=!0}return n.prototype.ionViewWillEnter=function(){this.recuperarDadosVendas(),this.recuperarDadosPecas(),this.socket.connect()},n.prototype.ionViewWillLeave=function(){this.socket.disconnect()},n.prototype.ionViewDidLoad=function(){this.loading=this.loadingProvider.exibirLoadingPadrao("Carregando as vendas."),this.mostrarLoading(!0)},n.prototype.agruparVendasPorPeca=function(n){return n.reduce(function(n,e,l,t,i){return void 0===i&&(i=e.pecaFeira.modelo.nome+" - "+e.pecaFeira.modelo.tamanho),(n[i]||(n[i]=[])).push(e),n},{})},n.prototype.atualizarDadosVendas=function(n){this.qtdTotalVendas=n.length,this.vendasAgrupadasPorPeca=this.agruparVendasPorPeca(n)},n.prototype.calcValorTotalVendasPorPeca=function(n){var e=this.recuperarNomePeca(n),l=0,t=null;return this.utilsService.estaVazio(this.vendasAgrupadasPorPeca)||void 0!==(t=this.vendasAgrupadasPorPeca[e])&&(l=t.reduce(function(n,e){return n+e.preco*e.quantidade},0)),this.utilsService.mascaraDinheiro(l)},n.prototype.findAllVendas=function(){var n=this;this.vendaService.findAll().subscribe(function(e){n.atualizarDadosVendas(e)},function(n){console.log(n)})},n.prototype.findVendasByDataBetween=function(n,e){var l=this,t=this.datePipe.transform(n,"dd/MM/yyyy"),i=this.datePipe.transform(e,"dd/MM/yyyy");this.vendaService.findByDataBetween(t,i).subscribe(function(n){l.atualizarDadosVendas(n)},function(n){console.log(n)})},n.prototype.findVendasByDia=function(n){this.findVendasByDataBetween(n,n)},n.prototype.findUltimaVendaQuantidadeIgualUm=function(n){return n.reverse().find(function(n){return 1===n.quantidade})},n.prototype.onClickAbrirModalCadastroVenda=function(){var n=this,e=this.modalCtrl.create("VendaInsertPage");e.present(),e.onDidDismiss(function(e){e&&n.recuperarDadosVendas()})},n.prototype.onClickAbrirModalDetalhesVenda=function(n){var e=this,l=this.recuperarNomePeca(n),t=this.vendasAgrupadasPorPeca[l];if(void 0!==t){var i=this.modalCtrl.create("VendaDetailsPage",t);i.present(),i.onDidDismiss(function(n){n&&e.recuperarDadosVendas()})}else{this.dialogo.exibirDialogoInformacao("Não existem vendas desta peça.","Nenhuma venda")}},n.prototype.onClickAbrirOpcoesFiltro=function(){this.selectRef.open()},n.prototype.onClickCadastrarUmaVenda=function(n){var e=this,l=(new Date).toISOString(),t=n,i=n.preco,u={data:this.datePipe.transform(l,"dd/MM/yyyy"),pecaFeira:t,preco:i,quantidade:1};this.vendaService.insert(u).subscribe(function(){e.dialogo.exibirToast("Venda registrada com sucesso."),e.recuperarDadosVendas();e.socket.emit("vendi",{baseUrl:s.a.baseUrl,operacao:"venda",venda:u})},function(n){if(400===n.status){e.dialogo.exibirDialogoInformacao("Não existem mais peças no estoque.","Estoque vazio")}console.log(n)})},n.prototype.onClickEstornarVenda=function(n){var e=this,l=this.recuperarNomePeca(n),t=0,i=void 0,u=this.vendasAgrupadasPorPeca[l];if(void 0!==u&&(t=u.length,i=this.findUltimaVendaQuantidadeIgualUm(u)),0===t){this.dialogo.exibirDialogoInformacao("Não existem mais vendas deste produto nesta data.","Não existem vendas")}else if(void 0===i){this.dialogo.exibirDialogoInformacao("Para remover vendas com quantidades de peças vendidas diferentes de 1, entre na tela de detalhes.","Remova na Tela de Detalhes")}else this.vendaService.estornar(i).subscribe(function(){e.recuperarDadosVendas(),e.dialogo.exibirToast("Venda apagada com sucesso.");e.socket.emit("vendi",{baseUrl:s.a.baseUrl,operacao:"estorno",venda:i})},function(n){console.log(n)})},n.prototype.onChangeRcprVendasComFiltro=function(){this.recuperarDadosVendas()},n.prototype.mostrarLoading=function(n){n&&this.loadingEstaPresente?(this.loading.present(),this.loadingEstaPresente=!1):n||this.loadingEstaPresente||(this.loading.dismiss(),this.loadingEstaPresente=!0)},n.prototype.recuperarDadosPecas=function(){var n=this;this.pecaFeiraService.findAll().subscribe(function(e){n.pecas=e},function(n){console.log(n)})},n.prototype.recuperarDadosVendas=function(){var n=new Date;if("Mês"===this.filtro){var e=n.getFullYear(),l=n.getMonth(),t=new Date(e,l,1),i=new Date(e,l+1,0);this.findVendasByDataBetween(t,i)}else"Hoje"===this.filtro?this.findVendasByDia(n):"Total"===this.filtro?this.findAllVendas():console.log("Erro");this.mostrarLoading(!1)},n.prototype.recuperarNomePeca=function(n){return n.modelo.nome+" - "+n.modelo.tamanho},n.prototype.recuperarQtdVendas=function(n){var e=this.recuperarNomePeca(n),l=0;if(!this.utilsService.estaVazio(this.vendasAgrupadasPorPeca)){var t=this.vendasAgrupadasPorPeca[e];void 0!==t&&(l=t.length)}return l},n.prototype.onClickAbrirVendasCompletas=function(){this.modalCtrl.create("VendaCompletaPage").present()},n}()),b=function(){return function(){}}(),y=l(221),g=l(222),R=l(223),k=l(224),C=l(225),w=l(226),V=l(227),x=l(228),_=l(229),E=l(332),D=l(135),P=l(49),T=l(4),I=l(134),A=l(17),N=l(14),S=l(1),q=l(40),F=l(59),M=l(140),U=l(137),O=l(139),j=l(46),B=l(20),W=l(47),L=l(142),$=l(89),z=l(85),K=l(5),H=l(316),Q=l(35),Z=l(8),J=l(21),Y=l(143),G=l(36),X=l(333),nn=l(138),en=l(15),ln=l(16),tn=l(92),un=l(230),rn=l(22),on=l(9),an=l(25),sn=l(6),dn=l(63),cn=l(91),hn=l(12),fn=l(64),pn=a["ɵcrt"]({encapsulation:2,styles:[],data:{}}),mn=a["ɵccf"]("page-venda-home",v,function(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,0,null,null,1,"page-venda-home",[],null,null,null,o,pn)),a["ɵdid"](1,49152,null,0,v,[f.d,d.a,dn.a,c.a,cn.a,J.a,hn.a,m.a,p.a,h.a,fn.WrappedSocket],null,null)],null,null)},{},{},[]),vn=l(129),bn=l(133),yn=l(39);l.d(e,"VendaHomePageModuleNgFactory",function(){return gn});var gn=a["ɵcmf"](b,[],function(n){return a["ɵmod"]([a["ɵmpd"](512,a.ComponentFactoryResolver,a["ɵCodegenComponentFactoryResolver"],[[8,[y.a,g.a,R.a,k.a,C.a,w.a,V.a,x.a,_.a,mn]],[3,a.ComponentFactoryResolver],a.NgModuleRef]),a["ɵmpd"](4608,f.l,f.k,[a.LOCALE_ID,[2,f.t]]),a["ɵmpd"](4608,ln.q,ln.q,[]),a["ɵmpd"](4608,ln.d,ln.d,[]),a["ɵmpd"](4608,m.a,m.a,[vn.c]),a["ɵmpd"](4608,h.a,h.a,[vn.c]),a["ɵmpd"](512,f.b,f.b,[]),a["ɵmpd"](512,ln.o,ln.o,[]),a["ɵmpd"](512,ln.g,ln.g,[]),a["ɵmpd"](512,ln.m,ln.m,[]),a["ɵmpd"](512,bn.a,bn.a,[]),a["ɵmpd"](512,bn.b,bn.b,[]),a["ɵmpd"](512,b,b,[]),a["ɵmpd"](256,yn.a,v,[])])})},310:function(n,e,l){"use strict";var t=l(318),i=l(320);e.async=new i.AsyncScheduler(t.AsyncAction)},311:function(n,e,l){"use strict";e.isDate=function(n){return n instanceof Date&&!isNaN(+n)}},312:function(n,e,l){"use strict";l.d(e,"a",function(){return a});l(3);var t=l(129),i=l(220),u=l(313),r=(l.n(u),l(314)),o=(l.n(r),l(315)),a=(l.n(o),function(){function n(n){this.http=n}return n.prototype.findAll=function(){return this.http.get(i.a.baseUrl+"/pecasfeira/").retryWhen(function(n){return n.delay(500)}).timeout(2e3)},n.prototype.save=function(n){return this.headers=new t.g,this.headers.set("Content-Type","application/json"),this.http.post(i.a.baseUrl+"/pecasfeira/",n,{headers:this.headers})},n.prototype.remove=function(n){return this.http.delete(i.a.baseUrl+"/pecasfeira/"+n.id,{})},n.prototype.get=function(n){return this.http.get(i.a.baseUrl+"/pecasfeira/"+n).retryWhen(function(n){return n.delay(500)}).timeout(2e3)},n.prototype.update=function(n){return this.headers=new t.g,this.headers.set("Content-Type","application/json"),this.http.put(i.a.baseUrl+"/pecasfeira/"+n.id,n,{headers:this.headers})},n}())},313:function(n,e,l){"use strict";var t=l(11),i=l(317);t.Observable.prototype.delay=i.delay},314:function(n,e,l){"use strict";var t=l(11),i=l(324);t.Observable.prototype.retryWhen=i.retryWhen},315:function(n,e,l){"use strict";var t=l(11),i=l(326);t.Observable.prototype.timeout=i.timeout},316:function(n,e,l){"use strict";function t(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,0,null,null,1,"div",[["class","toolbar-background"]],null,null,null,null,null)),i["ɵdid"](1,278528,null,0,u.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),i["ɵeld"](2,0,null,null,8,"button",[["class","back-button"],["ion-button","bar-button"]],[[8,"hidden",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==n.component.backButtonClick(l)&&t}return t},r.b,r.a)),i["ɵdid"](3,278528,null,0,u.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ɵdid"](4,1097728,null,0,o.a,[[8,"bar-button"],a.a,i.ElementRef,i.Renderer],null,null),(n()(),i["ɵeld"](5,0,null,0,2,"ion-icon",[["class","back-button-icon"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i["ɵdid"](6,278528,null,0,u.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ɵdid"](7,147456,null,0,s.a,[a.a,i.ElementRef,i.Renderer],{name:[0,"name"]},null),(n()(),i["ɵeld"](8,0,null,0,2,"span",[["class","back-button-text"]],null,null,null,null,null)),i["ɵdid"](9,278528,null,0,u.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),i["ɵted"](10,null,["",""])),i["ɵncd"](null,0),i["ɵncd"](null,1),i["ɵncd"](null,2),(n()(),i["ɵeld"](14,0,null,null,2,"div",[["class","toolbar-content"]],null,null,null,null,null)),i["ɵdid"](15,278528,null,0,u.h,[i.IterableDiffers,i.KeyValueDiffers,i.ElementRef,i.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i["ɵncd"](null,3)],function(n,e){var l=e.component;n(e,1,0,"toolbar-background","toolbar-background-"+l._mode);n(e,3,0,"back-button","back-button-"+l._mode);n(e,6,0,"back-button-icon","back-button-icon-"+l._mode);n(e,7,0,l._bbIcon);n(e,9,0,"back-button-text","back-button-text-"+l._mode);n(e,15,0,"toolbar-content","toolbar-content-"+l._mode)},function(n,e){var l=e.component;n(e,2,0,l._hideBb);n(e,5,0,i["ɵnov"](e,7)._hidden);n(e,10,0,l._backText)})}l.d(e,"a",function(){return d}),e.b=t;var i=l(0),u=l(10),r=l(46),o=l(20),a=l(1),s=l(47),d=(l(5),l(21),i["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},317:function(n,e,l){"use strict";var t=l(310),i=l(322);e.delay=function(n,e){return void 0===e&&(e=t.async),i.delay(n,e)(this)}},318:function(n,e,l){"use strict";var t=l(3).__extends,i=l(41),u=l(319);e.AsyncAction=function(n){function e(e,l){n.call(this,e,l),this.scheduler=e,this.work=l,this.pending=!1}return t(e,n),e.prototype.schedule=function(n,e){if(void 0===e&&(e=0),this.closed)return this;this.state=n,this.pending=!0;var l=this.id,t=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(t,l,e)),this.delay=e,this.id=this.id||this.requestAsyncId(t,this.id,e),this},e.prototype.requestAsyncId=function(n,e,l){return void 0===l&&(l=0),i.root.setInterval(n.flush.bind(n,this),l)},e.prototype.recycleAsyncId=function(n,e,l){if(void 0===l&&(l=0),null!==l&&this.delay===l&&!1===this.pending)return e;i.root.clearInterval(e)},e.prototype.execute=function(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var l=this._execute(n,e);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(n,e){var l=!1,t=void 0;try{this.work(n)}catch(n){l=!0,t=!!n&&n||new Error(n)}if(l)return this.unsubscribe(),t},e.prototype._unsubscribe=function(){var n=this.id,e=this.scheduler,l=e.actions,t=l.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==t&&l.splice(t,1),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null},e}(u.Action)},319:function(n,e,l){"use strict";var t=l(3).__extends,i=l(42);e.Action=function(n){function e(e,l){n.call(this)}return t(e,n),e.prototype.schedule=function(n,e){return void 0===e&&(e=0),this},e}(i.Subscription)},320:function(n,e,l){"use strict";var t=l(3).__extends,i=l(321);e.AsyncScheduler=function(n){function e(){n.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return t(e,n),e.prototype.flush=function(n){var e=this.actions;if(this.active)e.push(n);else{var l;this.active=!0;do{if(l=n.execute(n.state,n.delay))break}while(n=e.shift());if(this.active=!1,l){for(;n=e.shift();)n.unsubscribe();throw l}}},e}(i.Scheduler)},321:function(n,e,l){"use strict";e.Scheduler=function(){function n(e,l){void 0===l&&(l=n.now),this.SchedulerAction=e,this.now=l}return n.prototype.schedule=function(n,e,l){return void 0===e&&(e=0),new this.SchedulerAction(this,n).schedule(l,e)},n.now=Date.now?Date.now:function(){return+new Date},n}()},322:function(n,e,l){"use strict";var t=l(3).__extends,i=l(310),u=l(311),r=l(28),o=l(323);e.delay=function(n,e){void 0===e&&(e=i.async);var l=u.isDate(n)?+n-e.now():Math.abs(n);return function(n){return n.lift(new a(l,e))}};var a=function(){function n(n,e){this.delay=n,this.scheduler=e}return n.prototype.call=function(n,e){return e.subscribe(new s(n,this.delay,this.scheduler))},n}(),s=function(n){function e(e,l,t){n.call(this,e),this.delay=l,this.scheduler=t,this.queue=[],this.active=!1,this.errored=!1}return t(e,n),e.dispatch=function(n){for(var e=n.source,l=e.queue,t=n.scheduler,i=n.destination;l.length>0&&l[0].time-t.now()<=0;)l.shift().notification.observe(i);if(l.length>0){var u=Math.max(0,l[0].time-t.now());this.schedule(n,u)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(n){this.active=!0,this.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(!0!==this.errored){var e=this.scheduler,l=new d(e.now()+this.delay,n);this.queue.push(l),!1===this.active&&this._schedule(e)}},e.prototype._next=function(n){this.scheduleNotification(o.Notification.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n)},e.prototype._complete=function(){this.scheduleNotification(o.Notification.createComplete())},e}(r.Subscriber),d=function(){return function(n,e){this.time=n,this.notification=e}}()},323:function(n,e,l){"use strict";var t=l(11);e.Notification=function(){function n(n,e,l){this.kind=n,this.value=e,this.error=l,this.hasValue="N"===n}return n.prototype.observe=function(n){switch(this.kind){case"N":return n.next&&n.next(this.value);case"E":return n.error&&n.error(this.error);case"C":return n.complete&&n.complete()}},n.prototype.do=function(n,e,l){switch(this.kind){case"N":return n&&n(this.value);case"E":return e&&e(this.error);case"C":return l&&l()}},n.prototype.accept=function(n,e,l){return n&&"function"==typeof n.next?this.observe(n):this.do(n,e,l)},n.prototype.toObservable=function(){switch(this.kind){case"N":return t.Observable.of(this.value);case"E":return t.Observable.throw(this.error);case"C":return t.Observable.empty()}throw new Error("unexpected notification kind value")},n.createNext=function(e){return void 0!==e?new n("N",e):n.undefinedValueNotification},n.createError=function(e){return new n("E",void 0,e)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}()},324:function(n,e,l){"use strict";var t=l(325);e.retryWhen=function(n){return t.retryWhen(n)(this)}},325:function(n,e,l){"use strict";var t=l(3).__extends,i=l(50),u=l(136),r=l(86),o=l(88),a=l(87);e.retryWhen=function(n){return function(e){return e.lift(new s(n,e))}};var s=function(){function n(n,e){this.notifier=n,this.source=e}return n.prototype.call=function(n,e){return e.subscribe(new d(n,this.notifier,this.source))},n}(),d=function(n){function e(e,l,t){n.call(this,e),this.notifier=l,this.source=t}return t(e,n),e.prototype.error=function(e){if(!this.isStopped){var l=this.errors,t=this.retries,o=this.retriesSubscription;if(t)this.errors=null,this.retriesSubscription=null;else{if(l=new i.Subject,(t=u.tryCatch(this.notifier)(l))===r.errorObject)return n.prototype.error.call(this,r.errorObject.e);o=a.subscribeToResult(this,t)}this._unsubscribeAndRecycle(),this.errors=l,this.retries=t,this.retriesSubscription=o,l.next(e)}},e.prototype._unsubscribe=function(){var n=this.errors,e=this.retriesSubscription;n&&(n.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(n,e,l,t,i){var u=this.errors,r=this.retries,o=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=u,this.retries=r,this.retriesSubscription=o,this.source.subscribe(this)},e}(o.OuterSubscriber)},326:function(n,e,l){"use strict";var t=l(310),i=l(327);e.timeout=function(n,e){return void 0===e&&(e=t.async),i.timeout(n,e)(this)}},327:function(n,e,l){"use strict";var t=l(3).__extends,i=l(310),u=l(311),r=l(28),o=l(328);e.timeout=function(n,e){void 0===e&&(e=i.async);var l=u.isDate(n),t=l?+n-e.now():Math.abs(n);return function(n){return n.lift(new a(t,l,e,new o.TimeoutError))}};var a=function(){function n(n,e,l,t){this.waitFor=n,this.absoluteTimeout=e,this.scheduler=l,this.errorInstance=t}return n.prototype.call=function(n,e){return e.subscribe(new s(n,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))},n}(),s=function(n){function e(e,l,t,i,u){n.call(this,e),this.absoluteTimeout=l,this.waitFor=t,this.scheduler=i,this.errorInstance=u,this.action=null,this.scheduleTimeout()}return t(e,n),e.dispatchTimeout=function(n){n.error(n.errorInstance)},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),n.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(r.Subscriber)},328:function(n,e,l){"use strict";var t=l(3).__extends,i=function(n){function e(){var e=n.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return t(e,n),e}(Error);e.TimeoutError=i},329:function(n,e,l){"use strict";l.d(e,"a",function(){return a});l(3);var t=l(129),i=l(220),u=l(313),r=(l.n(u),l(314)),o=(l.n(r),l(315)),a=(l.n(o),function(){function n(n){this.http=n}return n.prototype.findAll=function(){return this.http.get(i.a.baseUrl+"/vendas/").retryWhen(function(n){return n.delay(500)}).timeout(2e3)},n.prototype.findByDataBetween=function(n,e){return this.http.get(i.a.baseUrl+"/vendas?dataInicial="+n+"&dataFinal="+e).retryWhen(function(n){return n.delay(500)}).timeout(2e3)},n.prototype.insert=function(n){return this.headers=new t.g,this.headers.set("Content-Type","application/json"),this.http.post(i.a.baseUrl+"/vendas/",n,{headers:this.headers})},n.prototype.delete=function(n){return this.http.delete(i.a.baseUrl+"/vendas/"+n.id,{})},n.prototype.estornar=function(n){return this.http.put(i.a.baseUrl+"/vendas/"+n.id+"/estornar/"+n.pecaFeira.id,{})},n.prototype.update=function(n){return this.headers=new t.g,this.headers.set("Content-Type","application/json"),this.http.put(i.a.baseUrl+"/vendas/"+n.id,n,{headers:this.headers})},n}())},332:function(n,e,l){"use strict";function t(n){return i["ɵvid"](2,[(n()(),i["ɵted"](-1,null,["\n    "])),i["ɵncd"](null,0),(n()(),i["ɵted"](-1,null,["\n    "])),i["ɵncd"](null,1),(n()(),i["ɵted"](-1,null,["\n  "]))],null,null)}l.d(e,"a",function(){return u}),e.b=t;var i=l(0),u=(l(4),i["ɵcrt"]({encapsulation:2,styles:[],data:{}}))},333:function(n,e,l){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,null,null,1,"div",[["class","select-placeholder select-text"]],null,null,null,null,null)),(n()(),r["ɵted"](1,null,["",""]))],null,function(n,e){n(e,1,0,e.component.placeholder)})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,0,null,null,1,"div",[["class","select-text"]],null,null,null,null,null)),(n()(),r["ɵted"](1,null,["",""]))],null,function(n,e){var l=e.component;n(e,1,0,l.selectedText||l._text)})}function u(n){return r["ɵvid"](0,[(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](1,16384,null,0,o.j,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵand"](16777216,null,null,1,null,i)),r["ɵdid"](3,16384,null,0,o.j,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),r["ɵeld"](4,0,null,null,1,"div",[["class","select-icon"]],null,null,null,null,null)),(n()(),r["ɵeld"](5,0,null,null,0,"div",[["class","select-icon-inner"]],null,null,null,null,null)),(n()(),r["ɵeld"](6,0,null,null,1,"button",[["aria-haspopup","true"],["class","item-cover"],["ion-button","item-cover"],["type","button"]],[[8,"id",0],[1,"aria-labelledby",0],[1,"aria-disabled",0]],null,null,a.b,a.a)),r["ɵdid"](7,1097728,null,0,s.a,[[8,"item-cover"],d.a,r.ElementRef,r.Renderer],null,null)],function(n,e){var l=e.component;n(e,1,0,!l._text);n(e,3,0,l._text)},function(n,e){var l=e.component;n(e,6,0,l.id,l._labelId,l._disabled)})}l.d(e,"a",function(){return c}),e.b=u;var r=l(0),o=l(10),a=l(46),s=l(20),d=l(1),c=(l(14),l(15),r["ɵcrt"]({encapsulation:2,styles:[],data:{}}))}});